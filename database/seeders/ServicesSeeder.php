<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Service;
use App\Models\ServiceType;

class ServicesSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $serviceTypes = ServiceType::all();

        $servicesData = [
            'Диагностика' => [
                ['name' => 'Компьютерная диагностика двигателя', 'description' => 'Полная проверка состояния двигателя.', 'price' => 1500.00],
                ['name' => 'Диагностика подвески', 'description' => 'Проверка амортизаторов, пружин и стоек.', 'price' => 1200.00],
                ['name' => 'Диагностика электронных систем', 'description' => 'Проверка бортового компьютера и датчиков.', 'price' => 1800.00],
                ['name' => 'Диагностика тормозной системы', 'description' => 'Проверка состояния тормозных колодок и дисков.', 'price' => 1000.00],
                ['name' => 'Диагностика системы охлаждения', 'description' => 'Проверка радиатора и термостата.', 'price' => 900.00],
            ],
            'Ремонт двигателя' => [
                ['name' => 'Замена масла в двигателе', 'description' => 'Профессиональная замена моторного масла.', 'price' => 800.00],
                ['name' => 'Ремонт головки блока цилиндров', 'description' => 'Устранение неисправностей ГБЦ.', 'price' => 5000.00],
                ['name' => 'Замена прокладки клапанной крышки', 'description' => 'Герметизация клапанной крышки.', 'price' => 2500.00],
                ['name' => 'Ремонт поршневой группы', 'description' => 'Восстановление поршней и цилиндров.', 'price' => 7000.00],
                ['name' => 'Чистка форсунок', 'description' => 'Очистка топливных форсунок от загрязнений.', 'price' => 1200.00],
            ],
            'Кузовные работы' => [
                ['name' => 'Ремонт вмятин', 'description' => 'Устранение вмятин без покраски.', 'price' => 3000.00],
                ['name' => 'Покраска деталей кузова', 'description' => 'Профессиональная покраска элементов кузова.', 'price' => 5000.00],
                ['name' => 'Полировка кузова', 'description' => 'Устранение царапин и восстановление блеска.', 'price' => 2000.00],
                ['name' => 'Ремонт бампера', 'description' => 'Восстановление пластиковых деталей.', 'price' => 2500.00],
                ['name' => 'Замена стекол', 'description' => 'Установка новых стекол.', 'price' => 4000.00],
            ],
            'Шиномонтаж' => [
                ['name' => 'Балансировка колес', 'description' => 'Балансировка всех четырех колес.', 'price' => 600.00],
                ['name' => 'Замена шин', 'description' => 'Установка новых шин на диски.', 'price' => 1000.00],
                ['name' => 'Ремонт проколов', 'description' => 'Устранение проколов камер.', 'price' => 500.00],
                ['name' => 'Правка дисков', 'description' => 'Восстановление геометрии дисков.', 'price' => 1500.00],
                ['name' => 'Сезонное хранение шин', 'description' => 'Хранение шин в специальных условиях.', 'price' => 2000.00],
            ],
            'Электрика' => [
                ['name' => 'Замена аккумулятора', 'description' => 'Установка нового аккумулятора.', 'price' => 1200.00],
                ['name' => 'Ремонт генератора', 'description' => 'Восстановление работы генератора.', 'price' => 3000.00],
                ['name' => 'Замена стартера', 'description' => 'Установка нового стартера.', 'price' => 2500.00],
                ['name' => 'Ремонт проводки', 'description' => 'Устранение неисправностей электропроводки.', 'price' => 4000.00],
                ['name' => 'Настройка сигнализации', 'description' => 'Настройка и ремонт автосигнализации.', 'price' => 1500.00],
            ],
            'Техническое обслуживание' => [
                ['name' => 'ТО-1 (первое техобслуживание)', 'description' => 'Первичное техническое обслуживание.', 'price' => 2500.00],
                ['name' => 'ТО-2 (второе техобслуживание)', 'description' => 'Вторичное техническое обслуживание.', 'price' => 3500.00],
                ['name' => 'Проверка уровня жидкостей', 'description' => 'Проверка масла, тормозной жидкости и антифриза.', 'price' => 500.00],
                ['name' => 'Регулировка ремня ГРМ', 'description' => 'Проверка и замена ремня ГРМ.', 'price' => 2000.00],
                ['name' => 'Чистка воздушного фильтра', 'description' => 'Очистка или замена воздушного фильтра.', 'price' => 400.00],
            ],
            'Замена масла' => [
                ['name' => 'Замена моторного масла', 'description' => 'Замена масла в двигателе.', 'price' => 800.00],
                ['name' => 'Замена масляного фильтра', 'description' => 'Замена масляного фильтра.', 'price' => 300.00],
                ['name' => 'Замена трансмиссионного масла', 'description' => 'Замена масла в коробке передач.', 'price' => 1500.00],
                ['name' => 'Замена масла в мостах', 'description' => 'Замена масла в заднем мосту.', 'price' => 1200.00],
                ['name' => 'Замена гидравлического масла', 'description' => 'Замена масла в гидравлической системе.', 'price' => 2000.00],
            ],
            'Ремонт тормозной системы' => [
                ['name' => 'Замена тормозных колодок', 'description' => 'Установка новых тормозных колодок.', 'price' => 1200.00],
                ['name' => 'Замена тормозных дисков', 'description' => 'Установка новых тормозных дисков.', 'price' => 2500.00],
                ['name' => 'Прокачка тормозов', 'description' => 'Удаление воздуха из тормозной системы.', 'price' => 800.00],
                ['name' => 'Ремонт главного тормозного цилиндра', 'description' => 'Восстановление работы цилиндра.', 'price' => 3000.00],
                ['name' => 'Замена тормозных трубок', 'description' => 'Установка новых тормозных трубок.', 'price' => 1800.00],
            ],
        ];

        // Заполняем таблицу services
        foreach ($serviceTypes as $type) {
            if (isset($servicesData[$type->name])) {
                foreach ($servicesData[$type->name] as $service) {
                    Service::create([
                        'service_type_id' => $type->id,
                        'name' => $service['name'],
                        'description' => $service['description'],
                        'price' => $service['price'],
                    ]);
                }
            }
        }
    }
}
