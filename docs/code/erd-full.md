flowchart TD
    %% Entities (rectangles)
    КЛИЕНТ[Клиент]
    АВТОМОБИЛЬ[Автомобиль]
    УСЛУГА[Услуга]
    ЗАКАЗ_НАРЯД[Заказ-наряд]
    ПОЛЬЗОВАТЕЛЬ[Пользователь]
    РОЛЬ[Роль]
    РАЗРЕШЕНИЕ[Разрешение]
    СЧЕТ[Счет]

    %% Attributes (stadiums)
    КЛИЕНТ_ID@{ shape: "stadium", label: "ID Клиента" }
    КЛИЕНТ_ИМЯ@{ shape: "stadium", label: "Имя" }
    КЛИЕНТ_ТЕЛЕФОН@{ shape: "stadium", label: "Телефон" }
    КЛИЕНТ_ЕМЕЙЛ@{ shape: "stadium", label: "Email" }
    КЛИЕНТ_АДРЕС@{ shape: "stadium", label: "Адрес" }

    АВТОМОБИЛЬ_ID@{ shape: "stadium", label: "ID Автомобиля" }
    АВТОМОБИЛЬ_МАРКА@{ shape: "stadium", label: "Марка" }
    АВТОМОБИЛЬ_МОДЕЛЬ@{ shape: "stadium", label: "Модель" }
    АВТОМОБИЛЬ_ГОД@{ shape: "stadium", label: "Год" }
    АВТОМОБИЛЬ_VIN@{ shape: "stadium", label: "VIN" }
    АВТОМОБИЛЬ_ОПИСАНИЕ@{ shape: "stadium", label: "Описание" }

    УСЛУГА_ID@{ shape: "stadium", label: "ID Услуги" }
    УСЛУГА_НАЗВАНИЕ@{ shape: "stadium", label: "Название" }
    УСЛУГА_ОПИСАНИЕ@{ shape: "stadium", label: "Описание" }
    УСЛУГА_ЦЕНА@{ shape: "stadium", label: "Цена" }

    ЗАКАЗ_НАРЯД_ID@{ shape: "stadium", label: "ID Заказа-наряда" }
    ЗАКАЗ_НАРЯД_ДАТА@{ shape: "stadium", label: "Дата" }
    ЗАКАЗ_НАРЯД_ВРЕМЯ@{ shape: "stadium", label: "Время" }

    ПОЛЬЗОВАТЕЛЬ_ID@{ shape: "stadium", label: "ID Пользователя" }
    ПОЛЬЗОВАТЕЛЬ_ИМЯ@{ shape: "stadium", label: "Имя" }
    ПОЛЬЗОВАТЕЛЬ_ЕМЕЙЛ@{ shape: "stadium", label: "Email" }
    ПОЛЬЗОВАТЕЛЬ_РОЛЬID@{ shape: "stadium", label: "ID Роли" }

    РОЛЬ_ID@{ shape: "stadium", label: "ID Роли" }
    РОЛЬ_НАЗВАНИЕ@{ shape: "stadium", label: "Название" }

    РАЗРЕШЕНИЕ_ID@{ shape: "stadium", label: "ID Разрешения" }
    РАЗРЕШЕНИЕ_НАЗВАНИЕ@{ shape: "stadium", label: "Название" }

    СЧЕТ_ID@{ shape: "stadium", label: "ID Счета" }
    СЧЕТ_СТОИМОСТЬ@{ shape: "stadium", label: "Стоимость" }
    СЧЕТ_ДАТАВЫДАЧИ@{ shape: "stadium", label: "Дата выдачи" }

    %% Relationships (rhombuses)
    КЛИЕНТ_АВТОМОБИЛЬ{Имеет 1:N}
    АВТОМОБИЛЬ_ЗАКАЗ_НАРЯД{Включает 1:N}
    ЗАКАЗ_НАРЯД_УСЛУГА{Включает 1:N}
    ЗАКАЗ_НАРЯД_ПОЛЬЗОВАТЕЛЬ{Обрабатывается 1:N}
    ЗАКАЗ_НАРЯД_СЧЕТ{Генерирует 1:1}
    ПОЛЬЗОВАТЕЛЬ_РОЛЬ{Имеет 1:1}
    РОЛЬ_РАЗРЕШЕНИЕ{Включает 1:N}

    %% Connecting entities to attributes
    КЛИЕНТ --> КЛИЕНТ_ID
    КЛИЕНТ --> КЛИЕНТ_ИМЯ
    КЛИЕНТ --> КЛИЕНТ_ТЕЛЕФОН
    КЛИЕНТ --> КЛИЕНТ_ЕМЕЙЛ
    КЛИЕНТ --> КЛИЕНТ_АДРЕС

    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_ID
    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_МАРКА
    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_МОДЕЛЬ
    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_ГОД
    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_VIN
    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_ОПИСАНИЕ

    УСЛУГА --> УСЛУГА_ID
    УСЛУГА --> УСЛУГА_НАЗВАНИЕ
    УСЛУГА --> УСЛУГА_ОПИСАНИЕ
    УСЛУГА --> УСЛУГА_ЦЕНА

    ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД_ID
    ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД_ДАТА
    ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД_ВРЕМЯ

    ПОЛЬЗОВАТЕЛЬ --> ПОЛЬЗОВАТЕЛЬ_ID
    ПОЛЬЗОВАТЕЛЬ --> ПОЛЬЗОВАТЕЛЬ_ИМЯ
    ПОЛЬЗОВАТЕЛЬ --> ПОЛЬЗОВАТЕЛЬ_ЕМЕЙЛ
    ПОЛЬЗОВАТЕЛЬ --> ПОЛЬЗОВАТЕЛЬ_РОЛЬID

    РОЛЬ --> РОЛЬ_ID
    РОЛЬ --> РОЛЬ_НАЗВАНИЕ

    РАЗРЕШЕНИЕ --> РАЗРЕШЕНИЕ_ID
    РАЗРЕШЕНИЕ --> РАЗРЕШЕНИЕ_НАЗВАНИЕ

    СЧЕТ --> СЧЕТ_ID
    СЧЕТ --> СЧЕТ_СТОИМОСТЬ
    СЧЕТ --> СЧЕТ_ДАТАВЫДАЧИ

    %% Connecting entities to relationships
    КЛИЕНТ --> КЛИЕНТ_АВТОМОБИЛЬ --> АВТОМОБИЛЬ
    АВТОМОБИЛЬ --> АВТОМОБИЛЬ_ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД
    ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД_УСЛУГА --> УСЛУГА
    ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД_ПОЛЬЗОВАТЕЛЬ --> ПОЛЬЗОВАТЕЛЬ
    ЗАКАЗ_НАРЯД --> ЗАКАЗ_НАРЯД_СЧЕТ --> СЧЕТ
    ПОЛЬЗОВАТЕЛЬ --> ПОЛЬЗОВАТЕЛЬ_РОЛЬ --> РОЛЬ
    РОЛЬ --> РОЛЬ_РАЗРЕШЕНИЕ --> РАЗРЕШЕНИЕ
